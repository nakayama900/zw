"use strict";(self.webpackChunkzi_wiki_pages=self.webpackChunkzi_wiki_pages||[]).push([[2704],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},l=Object.keys(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var r=i.createContext({}),d=function(e){var t=i.useContext(r),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=d(e.components);return i.createElement(r.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,l=e.originalType,r=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=d(n),m=a,h=p["".concat(r,".").concat(m)]||p[m]||c[m]||l;return n?i.createElement(h,o(o({ref:t},u),{},{components:n})):i.createElement(h,o({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=n.length,o=new Array(l);o[0]=p;var s={};for(var r in t)hasOwnProperty.call(t,r)&&(s[r]=t[r]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var d=2;d<l;d++)o[d]=n[d];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},4859:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return r},metadata:function(){return d},toc:function(){return u},default:function(){return p}});var i=n(7462),a=n(3366),l=(n(7294),n(3905)),o=["components"],s={id:"modules",title:"\u2699\ufe0f Modules",image:"/img/z-shell_501x501.png",description:"Zsh modules & plugins documentation",keywords:["modules","zsh","z-shell","zi"]},r=void 0,d={unversionedId:"ecosystem/plugins/modules",id:"ecosystem/plugins/modules",title:"\u2699\ufe0f Modules",description:"Zsh modules & plugins documentation",source:"@site/docs/ecosystem/plugins/20_modules.md",sourceDirName:"ecosystem/plugins",slug:"/ecosystem/plugins/modules",permalink:"/docs/ecosystem/plugins/modules",editUrl:"https://github.com/z-shell/zw/tree/main/docs/ecosystem/plugins/20_modules.md",tags:[],version:"current",lastUpdatedBy:"Salvydas Lukosius",lastUpdatedAt:1642376565,formattedLastUpdatedAt:"1/16/2022",sidebarPosition:20,frontMatter:{id:"modules",title:"\u2699\ufe0f Modules",image:"/img/z-shell_501x501.png",description:"Zsh modules & plugins documentation",keywords:["modules","zsh","z-shell","zi"]},sidebar:"tutorialSidebar",previous:{title:"\u2699\ufe0f Startify",permalink:"/docs/ecosystem/plugins/startify"},next:{title:"\ud83d\udd16 Code documentation",permalink:"/docs/code"}},u=[{value:"Module zpmod",id:"module-zpmod",children:[],level:2},{value:"Installation",id:"installation",children:[{value:"Without ZI",id:"without-zi",children:[],level:3},{value:"With ZI",id:"with-zi",children:[],level:3}],level:2},{value:"Measuring Time of sources",id:"measuring-time-of-sources",children:[],level:2},{value:"Debugging",id:"debugging",children:[],level:2},{value:"Module zgdbm",id:"module-zgdbm",children:[],level:2}],c={toc:u};function p(e){var t=e.components,n=(0,a.Z)(e,o);return(0,l.kt)("wrapper",(0,i.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("h2",{id:"module-zpmod"},"Module ",(0,l.kt)("a",{parentName:"h2",href:"https://github.com/z-shell/zpmod"},"zpmod")),(0,l.kt)("p",null,(0,l.kt)("a",{parentName:"p",href:"https://github.com/z-shell/zpmod/actions/workflows/codeql-analysis.yml"},(0,l.kt)("img",{parentName:"a",src:"https://github.com/z-shell/zpmod/actions/workflows/codeql-analysis.yml/badge.svg",alt:"\ud83d\udc7e CodeQL"}))),(0,l.kt)("p",null,"The module is a binary Zsh module (think about ",(0,l.kt)("inlineCode",{parentName:"p"},"zmodload")," Zsh command, it's that topic) which transparently and automatically ",(0,l.kt)("strong",{parentName:"p"},"compiles sourced scripts"),". Many plugin managers do not offer a compilation of plugins, the module is a solution to this. Even if a plugin manager does compile the plugin's main script (like ZI does)."),(0,l.kt)("h2",{id:"installation"},"Installation"),(0,l.kt)("h3",{id:"without-zi"},"Without ",(0,l.kt)("a",{parentName:"h3",href:"https://github.com/z-shell/zi"},"ZI")),(0,l.kt)("p",null,"Install just the ",(0,l.kt)("strong",{parentName:"p"},"standalone")," binary which can be used with any other plugin manager."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"This script can be used with most plugin managers and ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/z-shell/zi"},"ZI")," is not required."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"bash <(curl -fsSL https://raw.githubusercontent.com/z-shell/zpmod/HEAD/build.sh)\n")),(0,l.kt)("p",null,"This script will display what to add to ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc")," (2 lines) and show usage instructions."),(0,l.kt)("h3",{id:"with-zi"},"With ",(0,l.kt)("a",{parentName:"h3",href:"https://github.com/z-shell/zi"},"ZI")),(0,l.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("a",{parentName:"p",href:"https://github.com/z-shell/zi"},"ZI")," users can build the module by issuing the following command instead of running the above ",(0,l.kt)("inlineCode",{parentName:"p"},"build.sh")," script."))),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"zi module build\n")),(0,l.kt)("p",null,"This command will compile the module and display instructions on what to add to ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc"),"."),(0,l.kt)("h2",{id:"measuring-time-of-sources"},"Measuring Time of sources"),(0,l.kt)("p",null,"Besides the compilation feature, the module also measures ",(0,l.kt)("strong",{parentName:"p"},"duration")," of each script sourcing. Issue ",(0,l.kt)("inlineCode",{parentName:"p"},"zpmod source-study")," after loading the module at top of ",(0,l.kt)("inlineCode",{parentName:"p"},"~/.zshrc")," to see a list of all sourced files with the time the sourcing took in milliseconds on the left. This feature allows profiling the shell startup. Also, no script can pass through that check and you will obtain a complete list of all loaded scripts, like if Zshell itself was investigating this. The list can be surprising."),(0,l.kt)("h2",{id:"debugging"},"Debugging"),(0,l.kt)("p",null,"To enable debug messages from the module set:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"typeset -g ZI_MOD_DEBUG=1\n")),(0,l.kt)("h2",{id:"module-zgdbm"},"Module ",(0,l.kt)("a",{parentName:"h2",href:"https://github.com/z-shell/zgdbm"},"zgdbm")),(0,l.kt)("p",null,"Provides GDBM module as plugin"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"zstyles")," - The values being set are the defaults. Change the values before loading zgdbm plugin."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="~/.zshrc"',title:'"~/.zshrc"'},'zstyle ":plugin:zgdbm" cppflags "-I/usr/local/include"  # Additional include directory\nzstyle ":plugin:zgdbm" cflags "-Wall -O2 -g"            # Additional CFLAGS\nzstyle ":plugin:zgdbm" ldflags "-L/usr/local/lib"       # Additional library directory\n')))}p.isMDXComponent=!0}}]);